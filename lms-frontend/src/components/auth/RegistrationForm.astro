---
const error = Astro.url.searchParams.get('error')
const redirectPage = Astro.url.searchParams.get('r') || null
---
<h1 class="text-2xl font-bold text-center mb-6">Registration</h1>

<form method="POST" action="/auth/register" class="flex flex-col space-y-2">
    <input type="hidden" name="redirectPage" value={redirectPage}/>
    <label>
        <input name="username" type="text" placeholder="Username" required
               class="border border-gray-700 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"/>
    </label>
    <label>
        <input name="email" type="email" placeholder="Email" required
               class="border border-gray-700 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"/>
    </label>
    <label>
        <input name="password" type="password" placeholder="Password" required
               class="border border-gray-700 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"/>
    </label>
    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white rounded-lg py-2 w-full mt-4">
        Register
    </button>
</form>

{error && <p class="text-red-500 text-center mt-4">{decodeURIComponent(error)}</p>}
